<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open a Ticket</title>
    <link rel="icon" th:href="@{/resources/static/images/faal.png}" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Import your CSS file -->
    <link rel="stylesheet" th:href="@{/css/app.css}">
</head>
<body>

<div class="header-nav">
    <a th:href="@{/index}"><img th:src="@{/resources/images/faal.png}" alt="Home Icon" width="30" height="30"></a>
</div>

<div class="container">
    <div class="main-block">
        <form th:action="@{/}" method="post">
            <h1>Sistema de Tickets</h1>

            <fieldset>
                <legend><h3>Información Personal</h3></legend>

                <div class="form-row">
                    <div class="form-group">
                        <label for="name">Nombre Completo</label>
                        <input type="text" id="name" name="name" placeholder="Ingrese su nombre completo" required>
                    </div>

                    <div class="form-group">
                        <label for="mail">Correo Electrónico</label>
                        <input type="email" id="mail" name="mail" placeholder="Ingrese su correo electrónico" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="phone">Teléfono</label>
                        <input type="tel" id="phone" name="phone" placeholder="Ingrese su número de teléfono" required>
                    </div>

                    <div class="form-group">
                        <label for="manager">Contacto del Gerente*</label>
                        <input type="email" id="manager" name="manager" placeholder="Ingrese el correo del gerente" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="assigned">Asignado a</label>
                    <select id="assigned" name="AssignedTo">
                        <option value="email" selected>generalsupport@faal.com</option>
                        <option value="email">fershan@faal.com</option>
                        <option value="email">Lucia@faal.com</option>
                        <option value="email">angel@faal.com</option>
                    </select>
                </div>
            </fieldset>

            <fieldset>
                <legend><h3>Detalles del Ticket</h3></legend>

                <div class="form-row">
                    <div class="form-group">
                        <label for="ticketType">Tipo de Ticket</label>
                        <select id="ticketType" name="ticketType">
                            <option value="task" selected>Tarea</option>
                            <option value="complaint">Queja</option>
                            <option value="other">Otro</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="priority">Asignar Prioridad</label>
                        <select id="priority" name="priority">
                            <option value="high">Alta</option>
                            <option value="low">Baja</option>
                            <option value="medium" selected>Media</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="ticketCategory">Categoría del Ticket</label>
                    <select id="ticketCategory" name="ticketCategory">
                        <option value="rh" selected>Recursos Humanos</option>
                        <option value="soporte">Soporte</option>
                        <option value="ciberseguridad">Ciberseguridad</option>
                        <option value="infraestructura">Infraestructura</option>
                        <option value="desarrollo">Desarrollo de Software</option>
                        <option value="finanzas">Finanzas</option>
                        <option value="legal">Asuntos Legales</option>
                        <option value="marketing">Marketing</option>
                        <option value="ventas">Ventas</option>
                        <option value="otro">Otro</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Fecha de la Queja*</label>
                    <div class="cdate-block">
                        <select name="day" required>
                            <option value="">Día</option>
                            <option value="01">01</option>
                            <option value="02">02</option>
                            <option value="03">03</option>
                            <option value="04">04</option>
                            <option value="05">05</option>
                            <option value="06">06</option>
                            <option value="07">07</option>
                            <option value="08">08</option>
                            <option value="09">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                            <option value="29">29</option>
                            <option value="30">30</option>
                            <option value="31">31</option>
                        </select>
                        <select name="month" required>
                            <option value="">Mes</option>
                            <option value="January">Enero</option>
                            <option value="February">Febrero</option>
                            <option value="March">Marzo</option>
                            <option value="April">Abril</option>
                            <option value="May">Mayo</option>
                            <option value="June">Junio</option>
                            <option value="July">Julio</option>
                            <option value="August">Agosto</option>
                            <option value="September">Septiembre</option>
                            <option value="October">Octubre</option>
                            <option value="November">Noviembre</option>
                            <option value="December">Diciembre</option>
                        </select>
                        <select name="year" required>
                            <option value="">Año</option>
                            <option value="2025">2025</option>
                            <option value="2026">2026</option>
                            <option value="2027">2027</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="subject">Asunto*</label>
                    <input type="text" id="subject" name="subject" placeholder="Ingrese el asunto del ticket" required>
                </div>

                <div class="form-group">
                    <label for="ticket">Información del Ticket</label>
                    <textarea id="ticket" name="ticket" rows="8" placeholder="Ingrese los detalles del ticket..."></textarea>
                </div>

                <div class="form-group">
                    <label for="file">Adjuntar Archivo (opcional)</label>
                    <input type="file" id="file" name="file" accept="audio/*,video/*,image/*">
                </div>

                <div class="terms-mailing">
                    <label for="terms">
                        <input type="checkbox" id="terms" name="terms" required>
                        Acepto los <a th:href="@{/TermsAndConditions}">Términos y Condiciones</a>
                    </label>
                </div>
            </fieldset>

            <div class="button-group">
                <button type="submit">Enviar</button>
                <button type="reset">Reiniciar</button>
            </div>
        </form>
    </div>

    <div class="main-block">
        <h4>Historial de Tickets</h4>
        <form th:action="@{/ticket/list}" method="get">
            <select name="ticketId" size="5" onchange="this.form.submit()">
                <option th:each="ticket : ${userTickets}"
                        th:value="${ticket.id}"
                        th:text="'Ticket #' + ${ticket.id} + ' - ' + ${ticket.asunto}">
                </option>
            </select>
        </form>
    </div>
</div>

<hr>

<p id="copy">&copy; 2025 | Todos los derechos reservados a faal</p>

<script th:src="@{/js/app.js}"></script>

</body>
</html>